"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[382],{9382:function(s,e,t){t.r(e),t.d(e,{default:function(){return D}});var i=t(1413),n=t(2791),r=t(364),o=t(7774),l=t(2932),a=t(7781),u=t(8763),c="myPosts_postsBlock__W-MGe",d="myPosts_posts__C34gb",h="myPosts_addPostBlock__FIvDR",f="post_item__BbRru",x="post_likes__pXp9Z",j=t(8678),p=(t(165),t(184)),v=function(){return(0,p.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{d:"M4.45067 13.9082L11.4033 20.4395C11.6428 20.6644 11.7625 20.7769 11.9037 20.8046C11.9673 20.8171 12.0327 20.8171 12.0963 20.8046C12.2375 20.7769 12.3572 20.6644 12.5967 20.4395L19.5493 13.9082C21.5055 12.0706 21.743 9.0466 20.0978 6.92607L19.7885 6.52734C17.8203 3.99058 13.8696 4.41601 12.4867 7.31365C12.2913 7.72296 11.7087 7.72296 11.5133 7.31365C10.1304 4.41601 6.17972 3.99058 4.21154 6.52735L3.90219 6.92607C2.25695 9.0466 2.4945 12.0706 4.45067 13.9082Z",fill:"dimgrey",stroke:"dimgrey"})})},m=function(){return(0,p.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{d:"M4.45067 13.9082L11.4033 20.4395C11.6428 20.6644 11.7625 20.7769 11.9037 20.8046C11.9673 20.8171 12.0327 20.8171 12.0963 20.8046C12.2375 20.7769 12.3572 20.6644 12.5967 20.4395L19.5493 13.9082C21.5055 12.0706 21.743 9.0466 20.0978 6.92607L19.7885 6.52734C17.8203 3.99058 13.8696 4.41601 12.4867 7.31365C12.2913 7.72296 11.7087 7.72296 11.5133 7.31365C10.1304 4.41601 6.17972 3.99058 4.21154 6.52735L3.90219 6.92607C2.25695 9.0466 2.4945 12.0706 4.45067 13.9082Z",fill:"white",stroke:"dimgrey"})})},g=function(s){return(0,p.jsxs)("div",{className:f,children:[(0,p.jsx)("img",{src:"https://i2.wp.com/vdostavka.ru/wp-content/uploads/2019/05/no-avatar.png?fit=512%2C512&ssl=1",alt:"picture"}),s.message,(0,p.jsx)("div",{className:x,children:(0,p.jsxs)("span",{children:[(0,p.jsx)(v,{}),(0,p.jsx)(m,{}),s.likesCount]})})]})},b=t(3079),C=t(704),_=t(6748),k=(0,C.Z)({form:"profileAddNewPostForm"})((function(s){return(0,p.jsx)("div",{className:h,children:(0,p.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,p.jsx)("div",{className:"generalInput",children:(0,_.Gr)("post your message","newPostText",[b.C],_.Kx)}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{className:"button",children:"Add post"})})]})})})),w=n.memo((function(s){var e=s.posts.map((function(s){return(0,p.jsx)(g,{message:s.message,likesCount:s.likesCount},s.id)}));return(0,p.jsxs)("div",{className:c,children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsx)(k,{onSubmit:function(e){s.addPost(e.newPostText)}}),(0,p.jsx)("div",{className:d,children:e})]})})),P=(0,r.$j)((function(s){return{posts:s.profilePage.posts}}),(function(s){return{addPost:function(e){s((0,o.Wl)(e))}}}))(w),N=t(885),S="profileInfo_descriptionBlock__FOVSC",y="profileInfo_avaAndButtonBlock__lEox4",A="profileInfo_statusAndNameBlock__0peA7",I="profileInfo_contactsBlock__8uMco",Z="profileInfo_button__4ZFnA",M=t(9901),T=(0,C.Z)({form:"edit-profile"})((function(s){var e,t=s.handleSubmit,i=s.profile,n=s.error;return(0,p.jsxs)("form",{onSubmit:t,children:[(0,p.jsxs)("div",{className:A,children:[(0,p.jsx)("div",{children:(0,p.jsx)("button",{className:"button",children:"Save"})}),n&&(0,p.jsxs)("div",{className:M.Z.formSummaryError,children:[" ",n," "]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Name:"})," ",(0,_.Gr)("Name","fullName",[],_.II)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Looking for a job:"}),(0,_.Gr)("","lookingForAJob",[],_.II,{type:"checkbox"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"My professional skills:"}),(0,_.Gr)("My professional skills","lookingForAJobDescription",[],_.Kx)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"About me:"}),(0,_.Gr)("About me","aboutMe",[],_.Kx)]})]}),(0,p.jsx)("div",{className:I,children:(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Contacts:"})," ",Object.keys(null!==(e=i.contacts)&&void 0!==e?e:{}).map((function(s){return(0,p.jsxs)("div",{children:[(0,p.jsxs)("b",{children:[s,":"]})," ",(0,_.Gr)(s,"contacts."+s,[],_.II)]})}))]})})]})})),B=function(s){var e=(0,n.useState)(!1),t=(0,N.Z)(e,2),i=t[0],r=t[1],o=(0,n.useState)(s.status),l=(0,N.Z)(o,2),a=l[0],u=l[1];(0,n.useEffect)((function(){u(s.status)}),[s.status]);return(0,p.jsxs)("div",{children:[!i&&(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Status: "}),(0,p.jsx)("span",{onDoubleClick:function(){r(!0)},children:s.status||"no status"})]}),i&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:function(s){u(s.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),s.updateStatus(a)},value:a})})]})},F=t(8388),L=function(s){var e=s.profile,t=s.isOwner,i=s.triggerEditMode;return(0,p.jsxs)(p.Fragment,{children:[t&&(0,p.jsx)("div",{children:(0,p.jsx)("button",{onClick:i,children:"Edit"})}),(0,p.jsxs)("div",{className:A,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Name:"})," ",e.fullName]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"About me:"})," ",e.aboutMe]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Looking for a job:"})," ",e.lookingForAJob?"yes":"no"]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"My professional skills:"})," ",e.lookingForAJobDescription]})]}),(0,p.jsx)("div",{className:I,children:(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Contacts:"}),Object.keys(e.contacts).map((function(s){return(0,p.jsx)(O,{title:s,value:e.contacts[s]},s)}))]})})]})},O=function(s){var e=s.title,t=s.value;return(0,p.jsxs)("div",{style:{fontWeight:"400"},children:[(0,p.jsxs)("b",{children:[e,":"]})," ",t]})},G=function(s){var e=s.profile,t=s.status,i=s.updateStatus,r=s.isOwner,o=s.uploadPhoto,l=s.saveProfile,a=(0,n.useState)(!1),u=(0,N.Z)(a,2),c=u[0],d=u[1];if(!e)return(0,p.jsx)(F.p,{});return(0,p.jsxs)("div",{className:S,children:[(0,p.jsxs)("div",{className:y,children:[(0,p.jsx)("img",{src:e.photos.large||j}),r&&(0,p.jsxs)("label",{className:"button "+Z,children:[(0,p.jsx)("input",{type:"file",onChange:function(s){var e;null!==(e=s.target.files)&&void 0!==e&&e.length&&o(s.target.files[0])}}),"Upload a photo"]})]}),(0,p.jsxs)("div",{className:A,children:[c?(0,p.jsx)(T,{profile:e,initialValues:e,onSubmit:function(s){l(s).then((function(){d(!1)}))}}):(0,p.jsx)(L,{profile:e,isOwner:r,triggerEditMode:function(){return d(!0)}}),(0,p.jsx)(B,{status:t,updateStatus:i})]})]})},E=function(s){return(0,p.jsxs)("div",{children:[(0,p.jsx)(G,{isOwner:s.isOwner,profile:s.profile,status:s.status,updateStatus:s.updateStatus,uploadPhoto:s.uploadPhoto,saveProfile:s.saveProfile}),(0,p.jsx)(P,{})]})};var D=(0,a.qC)((0,r.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorisedUserId:s.auth.id,isAuth:s.auth.isAuth}}),{getUserProfileTC:o.d$,getStatusTC:o.GP,updateStatusTC:o.OG,uploadPhotoTC:o.Yc,saveProfileTC:o.Ms}),u.E,l.D)((function(s){return(0,n.useEffect)((function(){!function(){var e;console.log(s.router);var t=s.router.params.userId;t||(t=null===(e=s.authorisedUserId)||void 0===e?void 0:e.toString()),t?(s.getUserProfileTC(Number(t)),s.getStatusTC(Number(t))):console.error("ID should exist in URI params or in state")}()}),[]),(0,p.jsx)(E,(0,i.Z)((0,i.Z)({},s),{},{isOwner:!s.router.params.userId,profile:s.profile,status:s.status,updateStatus:s.updateStatusTC,uploadPhoto:s.uploadPhotoTC,saveProfile:s.saveProfileTC}))}))},2932:function(s,e,t){t.d(e,{D:function(){return c}});var i=t(1413),n=t(5987),r=t(6871),o=(t(2791),t(364)),l=t(184),a=["isAuth"],u=function(s){return{isAuth:s.auth.isAuth}};function c(s){return(0,o.$j)(u,{})((function(e){var t=e.isAuth,o=(0,n.Z)(e,a);return t?(0,l.jsx)(s,(0,i.Z)({},o)):(0,l.jsx)(r.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=382.975790e9.chunk.js.map